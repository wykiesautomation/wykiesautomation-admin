<!doctype html>
<html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Admin — Wykies Automation</title>
<link rel="stylesheet" href="assets/css/admin.css">
</head>
<body>
<header class="site-header">
  <a class="logo" href="/">
    <picture>
      <source media="(prefers-color-scheme: dark)" srcset="assets/img/logo-blue-dark.png">
      <img src="assets/img/logo-blue.png" alt="Admin" style="height:32px">
    </picture>
  </a>
  <span class="badge">Payments &amp; Products</span>
</header>

<!-- Email + Password Sign-In (VISIBLE by default) -->
<section id="signin" class="container" style="display:block;max-width:560px;padding-top:24px">
  <h2>Admin Sign‑In</h2>
  <p>Enter your email and password.</p>
  <form id="loginForm" onsubmit="Admin.login(event)">
    <div class="row">
      <label>Email</label>
      <input id="email" type="email" placeholder="you@example.com" required>
    </div>
    <div class="row">
      <label>Password</label>
      <input id="password" type="password" placeholder="••••••••" required>
    </div>
    <button class="btn" type="submit">Sign In</button>
  </form>
  <p id="loginError" class="error" style="display:none"></p>
</section>

<!-- Main app (hidden until signed in) -->
<main id="app" class="container" style="display:none">
  <nav class="nav-tabs">
    <a href="#products" class="active" onclick="openTab(event,'products')">Products</a>
    <a href="#gallery"  onclick="openTab(event,'gallery')">Gallery</a>
    <a href="#payments" onclick="openTab(event,'payments')">Payments</a>
    <span style="margin-left:auto">
      <button class="btn small" onclick="Admin.logout()">Logout</button>
    </span>
  </nav>
  <section id="products" class="tab">
    <h2>Products</h2>
    <div id="prod-list"></div>
  </section>
  <section id="gallery" class="tab" style="display:none">
    <h2>Gallery</h2>
    <button class="btn" onclick="Admin.addGalleryItem()">Add Image</button>
    <div id="gal-list"></div>
  </section>
  <section id="payments" class="tab" style="display:none">
    <h2>Payments</h2>
    <div id="pay-list"></div>
  </section>
</main>

<div id="toast" class="toast" style="display:none"></div>

<script>
function openTab(e,id){
  document.querySelectorAll('.nav-tabs a').forEach(a=>a.classList.remove('active'));
  e.target.classList.add('active');
  document.querySelectorAll('.tab').forEach(t=>t.style.display='none');
  document.getElementById(id).style.display='block';
}
</script>
<script src="assets/js/admin.js"></script>
</body></html>
